<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±–ª—ñ–∫ —Ä–æ–±–æ—á–æ–≥–æ —á–∞—Å—É</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="theme-switch-container">
            <div class="theme-switch-wrapper">
                <span>–¢–µ–º–Ω–∞ —Ç–µ–º–∞</span>
                <label class="theme-switch">
                    <input type="checkbox" id="themeSwitch">
                    <span class="theme-slider"></span>
                </label>
            </div>
            <select id="currencySelector" class="currency-selector">
                <option value="UAH">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –≥—Ä–∏–≤–Ω—è (‚Ç¥)</option>
                <option value="USD">–î–æ–ª–∞—Ä –°–®–ê ($)</option>
                <option value="EUR">–Ñ–≤—Ä–æ (‚Ç¨)</option>
                <option value="GBP">–§—É–Ω—Ç —Å—Ç–µ—Ä–ª—ñ–Ω–≥—ñ–≤ (¬£)</option>
                <option value="CNY">–ö–∏—Ç–∞–π—Å—å–∫–∏–π —é–∞–Ω—å (¬•)</option>
            </select>
            <div class="tools-dropdown">
                <button id="toolsBtn" class="tools-btn">‚öôÔ∏è</button>
                <div id="toolsContent" class="tools-content">
                    <button id="backupData">üíæ –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è –¥–∞–Ω–∏—Ö</button>
                    <button id="restoreData">üìÇ –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ</button>
                    <button id="clearData">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é</button>
                    <button id="manageWorkplaces">üè¢ –ú—ñ—Å—Ü—è —Ä–æ–±–æ—Ç–∏</button>
                    <button id="openArchive">üóÉÔ∏è –ê—Ä—Ö—ñ–≤</button>
                    <div class="settings-group">
                        <h3>–ï–∫—Å–ø–æ—Ä—Ç –∑–≤—ñ—Ç—ñ–≤:</h3>
                        <div class="report-buttons">
                            <button onclick="generateReport('csv')" class="report-btn">CSV</button>
                            <button onclick="generateReport('print')" class="report-btn">–î—Ä—É–∫</button>
                            <button onclick="generateReport('pdf')" class="report-btn">PDF</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <h1>–û–±–ª—ñ–∫ —Ä–æ–±–æ—á–æ–≥–æ —á–∞—Å—É</h1>
        
        <div class="control-panel">
            <div class="rate-section">
                <label for="hourlyRate">–°—Ç–∞–≤–∫–∞ –∑–∞ –≥–æ–¥–∏–Ω—É:</label>
                <input type="number" id="hourlyRate" min="0" step="10" value="200">
            </div>
            <div class="form-group">
                <label for="lunchDurationInput">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –æ–±—ñ–¥—É</label>
                <select id="lunchDurationInput">
                    <option value="30">30 —Ö–≤–∏–ª–∏–Ω</option>
                    <option value="60" selected>1 –≥–æ–¥–∏–Ω–∞</option>
                </select>
            </div>
            <div class="spoiler">
                <div class="spoiler-header">
                    <button type="button" class="spoiler-toggle primary-btn">–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</button>
                </div>
                <div class="spoiler-content">
                    <div class="workplace-section">
                        <div class="checkbox-container">
                            <input type="checkbox" id="useGlobalWorkplace">
                            <label for="useGlobalWorkplace">–í–∫–∞–∑–∞—Ç–∏ –º—ñ—Å—Ü–µ —Ä–æ–±–æ—Ç–∏</label>
                            <button id="openWorkplaceModalBtn" class="add-workplace-btn">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <line x1="4" y1="12" x2="20" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <line x1="12" y1="4" x2="12" y2="20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                        <div id="globalWorkplaceContainer" style="display: none;">
                            <label for="globalWorkplaceSelector">–í–∏–±–µ—Ä—ñ—Ç—å —Å—Ç–∞–≤–∫—É:</label>
                            <select id="globalWorkplaceSelector">
                                <option value="">–ì–ª–æ–±–∞–ª—å–Ω–∞ —Å—Ç–∞–≤–∫–∞</option>
                                <option value="1741647898929">–ú–∞–∫ (340 –≥—Ä–Ω/–≥–æ–¥)</option>
                                <option value="1741647911510">–ì–ª–æ–±—É—Å (470 –≥—Ä–Ω/–≥–æ–¥)</option>
                            </select>
                        </div>
                    </div>
                    <div class="tax-section">
                        <div class="checkbox-container">
                            <input type="checkbox" id="taxDeduction">
                            <label for="taxDeduction">–í–∏—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –ø–æ–¥–∞—Ç–∫—É</label>
                        </div>
                        <div class="tax-rate-container" id="taxRateContainer">
                            <label for="taxRate">–°—Ç–∞–≤–∫–∞ –ø–æ–¥–∞—Ç–∫—É:</label>
                            <input type="number" id="taxRate" min="0" max="100" step="1" value="13">
                            <div class="tax-presets">
                                <button class="tax-preset-btn" data-rate="13">–ü–î–§–û 13%</button>
                                <button class="tax-preset-btn" data-rate="4">–°–∞–º–æ–∑–∞–π–Ω—è—Ç–∏–π 4%</button>
                                <button class="tax-preset-btn" data-rate="6">–°–∞–º–æ–∑–∞–π–Ω—è—Ç–∏–π 6%</button>
                            </div>
                        </div>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="paidLunch">
                        <label for="paidLunch">–û–ø–ª–∞—á—É–≤–∞–Ω–∏–π –æ–±—ñ–¥</label>
                    </div>
                </div>
            </div>
            <div class="buttons">
                <button id="startShift" class="primary-btn">–ü–æ—á–∞—Ç–∏ –∑–º—ñ–Ω—É</button>
                <button id="endShift" class="secondary-btn" disabled>–ó–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–º—ñ–Ω—É</button>
                <button id="addShift" class="primary-btn">–î–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω—É –≤—Ä—É—á–Ω—É</button>
            </div>

            <div class="status">
                <div id="currentStatus">–°—Ç–∞—Ç—É—Å: –ù–µ –ø—Ä–∞—Ü—é—î—Ç–µ</div>
                <div id="currentShiftTime" class="hidden">–ü–æ—Ç–æ—á–Ω–∞ –∑–º—ñ–Ω–∞: 00:00:00</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="table">
                <span class="tab-emoji">üìã</span>
                <span class="tab-text">–¢–∞–±–ª–∏—Ü—è</span>
            </button>
            <button class="tab-btn" data-tab="charts">
                <span class="tab-emoji">üìä</span>
                <span class="tab-text">–ì—Ä–∞—Ñ—ñ–∫–∏</span>
            </button>
            <button class="tab-btn" data-tab="statistics">
                <span class="tab-emoji">üìà</span>
                <span class="tab-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
            </button>
            <button class="tab-btn" data-tab="calendar">
                <span class="tab-emoji">üìÖ</span>
                <span class="tab-text">–ö–∞–ª–µ–Ω–¥–∞—Ä</span>
            </button>
        </div>

        <div id="table" class="tab-content active">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>–î–∞—Ç–∞</th>
                            <th>–ú—ñ—Å—Ü–µ —Ä–æ–±–æ—Ç–∏</th>
                            <th>–°—Ç–∞–≤–∫–∞ –∑–∞ –≥–æ–¥–∏–Ω—É</th>
                            <th>–ü–æ—á–∞—Ç–æ–∫</th>
                            <th>–ó–∞–∫—ñ–Ω—á–µ–Ω–Ω—è</th>
                            <th>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</th>
                            <th>–ó–∞—Ä–æ–±–ª–µ–Ω–æ</th>
                            <th>–û–±—ñ–¥ –æ–ø–ª.</th>
                            <th>–î—ñ—ó</th>
                        </tr>
                    </thead>
                    <tbody id="shiftsTableBody">
                        <!-- –î–∞–Ω—ñ –∑–º—ñ–Ω –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —Ç—É—Ç -->
                    </tbody>
                </table>
            </div>
            <div class="mobile-table-container" id="mobileShiftsContainer">
                <!-- –ú–æ–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è —Ç–∞–±–ª–∏—Ü—ñ –±—É–¥–µ –¥–æ–¥–∞–Ω–∞ —Ç—É—Ç -->
            </div>
            <div id="mobilePagination"></div>
            <div class="table-summary">
                <div>–í—Å—å–æ–≥–æ –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤–∞–Ω–æ: <span id="totalTime">0 –≥–æ–¥ 0 —Ö–≤</span></div>
                <div>–ó–∞—Ä–æ–±–ª–µ–Ω–æ –≤—Å—å–æ–≥–æ: <span id="totalEarned">0</span></div>
            </div>
        </div>

        <div id="charts" class="tab-content">
            <div class="chart-container">
                <canvas id="weeklyChart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="monthlyChart"></canvas>
            </div>
        </div>

        <div id="statistics" class="tab-content">
            <div class="statistics-grid">
                <div class="statistics-card">
                    <div class="statistics-value" id="statTotalShifts">0</div>
                    <div class="statistics-label">–í—Å—å–æ–≥–æ –∑–º—ñ–Ω</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statTotalHours">0</div>
                    <div class="statistics-label">–í—Å—å–æ–≥–æ –≥–æ–¥–∏–Ω</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statTotalEarnings">0</div>
                    <div class="statistics-label">–í—Å—å–æ–≥–æ –∑–∞—Ä–æ–±–ª–µ–Ω–æ</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statAvgHoursPerDay">0</div>
                    <div class="statistics-label">–°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω –≤ –¥–µ–Ω—å</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statAvgEarningsPerDay">0</div>
                    <div class="statistics-label">–°–µ—Ä–µ–¥–Ω—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ –≤ –¥–µ–Ω—å</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statAvgEarningsPerHour">0</div>
                    <div class="statistics-label">–°–µ—Ä–µ–¥–Ω—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ –∑–∞ –≥–æ–¥–∏–Ω—É</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statWeekHours">0</div>
                    <div class="statistics-label">–ì–æ–¥–∏–Ω –∑–∞ —Ü–µ–π —Ç–∏–∂–¥–µ–Ω—å</div>
                </div>
                <div class="statistics-card">
                    <div class="statistics-value" id="statWeekEarnings">0</div>
                    <div class="statistics-label">–ó–∞—Ä–æ–±–ª–µ–Ω–æ –∑–∞ —Ç–∏–∂–¥–µ–Ω—å</div>
                </div>
            </div>
            
            <h2 class="section-title">–ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ</h2>
            
            <div class="performance-metrics">
                <!-- Performance metrics will be populated here -->
            </div>
            
            <div class="chart-container">
                <canvas id="performanceChart"></canvas>
            </div>
            
            <div class="performance-trends">
                <div class="performance-trend-card" id="bestDay">
                    <h3>–ù–∞–π–∫—Ä–∞—â–∏–π –¥–µ–Ω—å</h3>
                    <div id="bestDayValue">-</div>
                </div>
                <div class="performance-trend-card" id="worstDay">
                    <h3>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π –¥–µ–Ω—å —Ç–∏–∂–Ω—è</h3>
                    <div id="productiveDayValue">-</div>
                </div>
            </div>
        </div>

        <div id="calendar" class="tab-content">
            <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä –∑–º—ñ–Ω</h2>
            <p>–ü–µ—Ä–µ–≥–ª—è–¥ –≤–∞—à–∏—Ö —Ä–æ–±–æ—á–∏—Ö –∑–º—ñ–Ω —É –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ.</p>
            
            <div class="calendar-navigation">
                <button id="prevMonth" class="secondary-btn">‚óÄ</button>
                <h3 id="currentMonthYear">–ú—ñ—Å—è—Ü—å –†—ñ–∫</h3>
                <button id="nextMonth" class="secondary-btn">‚ñ∂</button>
            </div>
            
            <div class="calendar-container">
                <div class="calendar-weekdays">
                    <div>–ù–¥</div><div>–ü–Ω</div><div>–í—Ç</div><div>–°—Ä</div><div>–ß—Ç</div><div>–ü—Ç</div><div>–°–±</div>
                </div>
                <div id="calendarDays" class="calendar-days"></div>
            </div>
            
            <div id="calendarDetails" class="calendar-details">
                <h3>–í–∏–±–µ—Ä—ñ—Ç—å –¥–∞—Ç—É –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–µ—Ç–∞–ª–µ–π</h3>
            </div>
        </div>

        <div id="shiftModal" class="modal">
            <div class="modal-content">
                <h2 id="shiftModalTitle" class="modal-title">–î–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω—É</h2>
                <form id="shiftForm">
                    <div class="form-group">
                        <label for="shiftDate">–î–∞—Ç–∞</label>
                        <input type="date" id="shiftDate" required>
                    </div>
                    <div class="form-group">
                        <label for="shiftStart">–ß–∞—Å –ø–æ—á–∞—Ç–∫—É</label>
                        <input type="time" id="shiftStart" required>
                    </div>
                    <div class="form-group">
                        <label for="shiftEnd">–ß–∞—Å –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è</label>
                        <input type="time" id="shiftEnd" required>
                    </div>
                    <div class="checkbox-container form-group">
                        <input type="checkbox" id="useWorkplace">
                        <label for="useWorkplace">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º—ñ—Å—Ü–µ —Ä–æ–±–æ—Ç–∏</label>
                    </div>
                    <div class="form-group" id="workplaceContainer" style="display: none;">
                        <label for="shiftWorkplace">–ú—ñ—Å—Ü–µ —Ä–æ–±–æ—Ç–∏</label>
                        <select id="shiftWorkplace">
                            <option value="">–ì–ª–æ–±–∞–ª—å–Ω–∞ —Å—Ç–∞–≤–∫–∞</option>
                            <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ü—ñ—ó –∑–∞–ø–æ–≤–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
                        </select>
                    </div>
                    <div class="checkbox-container form-group">
                        <input type="checkbox" id="shiftPaidLunch">
                        <label for="shiftPaidLunch">–û–ø–ª–∞—á—É–≤–∞–Ω–∏–π –æ–±—ñ–¥</label>
                    </div>
                    <div class="form-group">
                        <label for="shiftLunchDuration">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –æ–±—ñ–¥—É</label>
                        <select id="shiftLunchDuration">
                            <option value="30">30 —Ö–≤–∏–ª–∏–Ω</option>
                            <option value="60" selected>1 –≥–æ–¥–∏–Ω–∞</option>
                        </select>
                    </div>
                    <div class="checkbox-container form-group">
                        <input type="checkbox" id="shiftTaxDeduction">
                        <label for="shiftTaxDeduction">–í–∏—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –ø–æ–¥–∞—Ç–∫—É</label>
                    </div>
                    <div class="form-group" id="shiftTaxRateContainer" style="display: none;">
                        <label for="shiftTaxRate">–°—Ç–∞–≤–∫–∞ –ø–æ–¥–∞—Ç–∫—É (%)</label>
                        <input type="number" id="shiftTaxRate" min="0" max="100" step="1" value="13">
                    </div>
                    <div class="modal-buttons">
                        <button type="button" id="closeModal" class="close-btn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                        <button type="submit" id="saveShift" class="primary-btn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="workplaceModal" class="modal">
            <div class="modal-content">
                <h2 id="workplaceModalTitle" class="modal-title">–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º—ñ—Å—Ü—è–º–∏ —Ä–æ–±–æ—Ç–∏</h2>
                <form id="workplaceForm">
                    <input type="hidden" id="workplaceId">
                    <div class="form-group">
                        <label for="workplaceName">–ù–∞–∑–≤–∞ –º—ñ—Å—Ü—è —Ä–æ–±–æ—Ç–∏</label>
                        <input type="text" id="workplaceName" required>
                    </div>
                    <div class="form-group">
                        <label for="workplaceRate">–°—Ç–∞–≤–∫–∞ –∑–∞ –≥–æ–¥–∏–Ω—É</label>
                        <input type="number" id="workplaceRate" min="0" step="10" required>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" id="closeWorkplaceModal" class="close-btn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                        <button type="submit" id="saveWorkplace" class="primary-btn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                    </div>
                </form>
                <h3>–°–ø–∏—Å–æ–∫ –º—ñ—Å—Ü—å —Ä–æ–±–æ—Ç–∏</h3>
                <div id="workplaceList"></div>
            </div>
        </div>

        <div id="archiveModal" class="modal">
            <div class="modal-content">
                <h2 class="modal-title">–ê—Ä—Ö—ñ–≤ —Ç–∞–±–ª–∏—Ü—å</h2>
                <div class="archive-controls">
                    <div class="form-group">
                        <label for="archiveTableName">–ù–∞–∑–≤–∞ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ:</label>
                        <input type="text" id="archiveTableName" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –†–æ–±–æ—Ç–∞ –≤ —Ç—Ä–∞–≤–Ω—ñ 2023">
                    </div>
                    <button id="saveToArchive" class="primary-btn">–î–æ–¥–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—É —Ç–∞–±–ª–∏—Ü—é –≤ –∞—Ä—Ö—ñ–≤</button>
                    <div class="search-sort-container">
                        <div class="form-group">
                            <input type="text" id="archiveSearch" placeholder="–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é...">
                        </div>
                        <div class="form-group">
                            <select id="archiveSort">
                                <option value="date-desc">–°–ø–æ—á–∞—Ç–∫—É –Ω–æ–≤—ñ</option>
                                <option value="date-asc">–°–ø–æ—á–∞—Ç–∫—É —Å—Ç–∞—Ä—ñ</option>
                                <option value="name-asc">–ó–∞ –Ω–∞–∑–≤–æ—é (–ê-–Ø)</option>
                                <option value="name-desc">–ó–∞ –Ω–∞–∑–≤–æ—é (–Ø-–ê)</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="archive-list-container">
                    <h3>–ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ</h3>
                    <div id="archiveList" class="archive-list">
                        <!-- Archived tables will appear here -->
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="button" id="closeArchiveModal" class="close-btn">–ó–∞–∫—Ä–∏—Ç–∏</button>
                </div>
            </div>
        </div>

        <script src="app.js" type="module"></script>
    </div>

</body>
</html>